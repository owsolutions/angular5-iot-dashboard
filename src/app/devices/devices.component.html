<h1 class='page-title clearfix'>
  <div class='page-label pull-left'>
    <i class="icon icon-keyboard"></i>
    Devices <sup>({{devices.length}})</sup>
  </div>
 
</h1>

<div class="page-description">
  <p>
    Devices currently connected to the software are shown as chipsets below. Maximum recognized pins for community version is 16 pins, which can be configurated as input or output.
  </p>
  <p>
    By Clicking on each pin, you can see the details, and manipulate the value of pin, if it's output. Creating a new device is not allowed in this application, since each device must be self descriptive,
    when sends a new message to the application. On the other hand, you can delete a device, if you disconnected from infrustucture, and if you reconnect, you might see it back, but without any user configured data.
  </p>

</div>
<div class="device-box-container">
  <div *ngFor="let device of devices" class="col-sm-6 padding-box">
     <app-device-svg [device]="device" (onFocusDevice)="clickDispatch($event);"></app-device-svg>
  </div>
</div>

<div class="clearfix"></div>

<div id="bs-1" class="helper-box" *ngIf="focusedDevice" element-type="bottom-sheet"  (mouseleave)="unfocus()"> 
  <h1 class='helper-box-title clearfix'>
    <div class='page-label pull-left'>
      <i class="icon icon-keyboard"></i>
      Pin configuration
    </div>

    <a class="btn btn-primary" (click)="unfocus();">Close</a>
  </h1>
  <div class="box-content device-configuration">
    <div class="row">
     
      <div class="col-sm-6" >
        <h3>Device unique id: {{focusedDevice.uniqueid}}</h3>
        <div class="device-description">
          {{describeDevice(focusedDevice)}}
        </div>
        <hr>
        <section *ngIf="focusedPin" >
          <h3>Alias ( widgets )</h3>
          <div class="device-description">
            You can config this pin as a widget, afterward, it will be accessible by normal users with specific name, access control, and value.

            <br><br>
            <app-forms-text-input
              placeholder="Type the widget name ( e.g: Front Lamp )"
              icon="icon icon-user"
              name="Widget name"
              (onChange)="onWidgetNameInputChange($event)"
              ></app-forms-text-input>
          </div>

          <h3>Pin: {{focusedPin.id}}</h3>
          <div class="device-description">
            Type: {{focusedPin.type}}
            <br>
            Realtime value: {{focusedPin.value}}

            <br>
            Value: <app-output-pin [pin]="focusedPin" [device]="focusedDevice"></app-output-pin>
          </div>
          <hr>
          
          
        </section>
      </div>
    </div>
  </div>

</div>
